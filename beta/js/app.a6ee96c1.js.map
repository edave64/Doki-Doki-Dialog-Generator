{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/panels/doki.vue?6da6","webpack:///./src/App.vue?926f","webpack:///./src/components/panels/backgrounds.vue?02fe","webpack:///./src/components/panels/add.vue?a5d6","webpack:///./src/components/Toggle.vue?a3c5","webpack:///./src/components/panels/general.vue?b9ff","webpack:///./src/components/DokiButton.vue?d8da","webpack:///./src/App.vue?1f33","webpack:///./src/components/DokiButton.vue?7b60","webpack:///./src/components/DokiButton.vue?b2fb","webpack:///./src/components/DokiButton.vue?4a2f","webpack:///./src/components/DokiButton.vue","webpack:///./src/components/panels/general.vue?1be6","webpack:///./src/components/Toggle.vue?797c","webpack:///./src/components/Toggle.vue?459d","webpack:///./src/components/Toggle.vue?2b98","webpack:///./src/components/Toggle.vue","webpack:///./src/components/panels/general.vue?9cc8","webpack:///./src/asset-manager.ts","webpack:///./src/components/panels/general.vue?db34","webpack:///./src/components/panels/general.vue","webpack:///./src/components/panels/add.vue?6698","webpack:///./src/models/background.ts","webpack:///./src/components/panels/add.vue?1ebe","webpack:///./src/components/panels/add.vue?f816","webpack:///./src/components/panels/add.vue","webpack:///./src/components/panels/doki.vue?deef","webpack:///./src/models/constants.ts","webpack:///./src/models/girl.ts","webpack:///./src/components/panels/doki.vue?a7ef","webpack:///./src/components/panels/doki.vue?f2e3","webpack:///./src/components/panels/doki.vue","webpack:///./src/components/panels/backgrounds.vue?4158","webpack:///./src/components/panels/backgrounds.vue?aa62","webpack:///./src/components/panels/backgrounds.vue?ceea","webpack:///./src/components/panels/backgrounds.vue","webpack:///./src/models/textbox.ts","webpack:///./src/renderer/rendererContext.ts","webpack:///./src/renderer/renderer.ts","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","ref","canvasHeight","canvasWidth","on","onUiClick","_v","class","vertical","active","panel","$event","download","textbox","lqRendering","_e","onDokiChosen","model","callback","$$v","currentBackground","expression","selectedGirl","onDokiLayerShift","invalidateRender","staticRenderFns","staticClass","$emit","_t","components","component","options","$set","directives","rawName","$$selectedVal","Array","filter","target","selected","map","val","_value","multiple","domProps","composing","_uid","onChange","_s","label","event","$refs","checkbox","checked","type","String","Boolean","default","talking","required","Toggle","webpSupportPromise","undefined","isWebPSupported","_l","doki","toLowerCase","assetPath","path","rx","getAsset","hq","drawImage","transparent","Promise","resolve","reject","losslessCode","img","document","createElement","addEventListener","width","height","src","render","preview","assetCache","asset","url","Image","style","display","body","appendChild","backgrounds","dokis","addDoki","folder","heads","straight","sideways","poses","compatibleHeads","left","right","static","headAnchor","e","girlSel","$el","cx","clientX","offsetLeft","girl","captialize","posel","poser","part","partl","partr","pos","Math","max","min","move","girlPositions","invalidator","infront","close","poseId","posePositions","variant","head","headType","pose","assets","partKeys","getParts","poseFolder","headFolder","currentHeads","all","size","x","y","headAsset","bodyParts","bodyPart","drawRectOutline","headl","headr","oldHeadCollection","newHeadCollectionNr","indexOf","str","charAt","toUpperCase","substring","background","backgroundImage","corrupted","showControls","allowSkipping","showContinueArrow","customName","dialog","drawText","renderText","text","b","split","line","cl","f","ct","cb","measureText","fsCtx","align","w","col","ocol","font","fillStyle","strokeStyle","lineWidth","textAlign","lineJoin","strokeText","fillText","image","flip","save","scale","restore","h","strokeWidth","beginPath","rect","stroke","previewCanvas","renderCallback","ctx","getContext","clearRect","filename","downloadCanvas","toDataURL","navigator","msSaveOrOpenBlob","setAttribute","click","removeChild","msSaveBlob","dataURItoBlob","dataURI","binary","atob","array","charCodeAt","Blob","Uint8Array","girls","dokiSelectorOpen","backgroundSelectorOpen","editDialog","renderer","showUI","loaded","uiSize","renderInProgress","queuedRender","newGirl","oldGirl","unselect","select","newPanel","requestAnimationFrame","render_","downloadRendering","cancelAnimationFrame","cats","sd","sdCtx","updateArea","keyCode","then","catch","alert","sw","sh","rh","rw","opth","optimum","optv","optimizeWithMenu","innerWidth","innerHeight","cw","ch","v","$nextTick","paintOnto","ry","clientY","offsetTop","sx","sy","girlAt","abs","idx","targetIdx","unshift","deep","DokiButton","GeneralPanel","AddPanel","DokiPanel","BackgroundsPanel","ready","console","log","registered","cached","updatefound","updated","offline","error","config","productionTip","$mount"],"mappings":"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","file":"js/app.a6ee96c1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./doki.vue?vue&type=style&index=0&id=912c405a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./doki.vue?vue&type=style&index=0&id=912c405a&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backgrounds.vue?vue&type=style&index=0&id=375b92ed&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backgrounds.vue?vue&type=style&index=0&id=375b92ed&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=9a4e384e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=9a4e384e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./general.vue?vue&type=style&index=0&id=d6cde16e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./general.vue?vue&type=style&index=0&id=d6cde16e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DokiButton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DokiButton.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"container\"}},[_c('canvas',{ref:\"sd\",attrs:{\"id\":\"scaled_display\",\"height\":_vm.canvasHeight,\"width\":_vm.canvasWidth},on:{\"click\":_vm.onUiClick}},[_vm._v(\"\\n\\t\\t\\tHTML5 is required to use this\\n\\t\\t\\t\"),_c('strike',[_vm._v(\"shitpost\")]),_vm._v(\"meme generator.\\n\\t\\t\")],1)]),_c('div',{class:{ vertical: _vm.vertical },attrs:{\"id\":\"panels\"}},[_c('div',{attrs:{\"id\":\"toolbar\"}},[_c('button',{class:{ active: _vm.panel === 'add' },on:{\"click\":function($event){_vm.panel = _vm.panel === 'add' ? '' : 'add'}}},[_vm._v(\"A\")]),_c('button',{class:{ active: _vm.panel === 'backgrounds' },on:{\"click\":function($event){_vm.panel = _vm.panel === 'backgrounds' ? '' : 'backgrounds'}}},[_vm._v(\"B\")]),_c('button',[_vm._v(\"Â \")]),_c('button',{on:{\"click\":_vm.download}},[_vm._v(\"D\")])]),_c('keep-alive',[(_vm.panel === '')?_c('general-panel',{attrs:{\"options\":_vm.textbox,\"vertical\":_vm.vertical,\"lqRendering\":_vm.lqRendering},on:{\"update:lqRendering\":function($event){_vm.lqRendering=$event},\"update:lq-rendering\":function($event){_vm.lqRendering=$event}}}):_vm._e(),(_vm.panel === 'add')?_c('add-panel',{attrs:{\"vertical\":_vm.vertical},on:{\"chosen\":_vm.onDokiChosen}}):_vm._e(),(_vm.panel === 'backgrounds')?_c('backgrounds-panel',{attrs:{\"vertical\":_vm.vertical},model:{value:(_vm.currentBackground),callback:function ($$v) {_vm.currentBackground=$$v},expression:\"currentBackground\"}}):_vm._e(),(_vm.panel === 'doki')?_c('doki-panel',{attrs:{\"vertical\":_vm.vertical,\"girl\":_vm.selectedGirl},on:{\"shiftLayer\":_vm.onDokiLayerShift,\"invalidate-render\":_vm.invalidateRender}}):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\n\r\n@Component({\r\n\tcomponents: {},\r\n})\r\nexport default class DokiButton extends Vue {}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DokiButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DokiButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DokiButton.vue?vue&type=template&id=4804457c&\"\nimport script from \"./DokiButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./DokiButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DokiButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ panel: true, vertical: _vm.vertical }},[_c('h1',[_vm._v(\"General\")]),_c('toggle',{attrs:{\"label\":\"Low quality preview?\",\"title\":\"Reduces the quality of the preview images to speed up the user experience and consume less data. Does not effect final render.\",\"value\":_vm.lqRendering},on:{\"input\":function($event){return _vm.$emit('update:lqRendering', $event)}}}),_c('toggle',{attrs:{\"label\":\"Textbox visible?\"},model:{value:(_vm.options.display),callback:function ($$v) {_vm.$set(_vm.options, \"display\", $$v)},expression:\"options.display\"}}),_c('toggle',{attrs:{\"label\":\"Textbox corrupt?\"},model:{value:(_vm.options.corrupted),callback:function ($$v) {_vm.$set(_vm.options, \"corrupted\", $$v)},expression:\"options.corrupted\"}}),_c('div',[_vm._v(\"\\n\\t\\tPerson talking:\\n\\t\\t\"),_c('br'),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.talking),expression:\"options.talking\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.options, \"talking\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"No-one\")]),_c('option',{attrs:{\"value\":\"Sayori\"}},[_vm._v(\"Sayori\")]),_c('option',{attrs:{\"value\":\"Yuri\"}},[_vm._v(\"Yuri\")]),_c('option',{attrs:{\"value\":\"Natsuki\"}},[_vm._v(\"Natsuki\")]),_c('option',{attrs:{\"value\":\"Monika\"}},[_vm._v(\"Monika\")]),_c('option',{attrs:{\"value\":\"other\"}},[_vm._v(\"Other\")])])]),_c('div',[_vm._v(\"\\n\\t\\tOther name:\\n\\t\\t\"),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.customName),expression:\"options.customName\"}],domProps:{\"value\":(_vm.options.customName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"customName\", $event.target.value)}}})]),_c('toggle',{attrs:{\"label\":\"Controls visible?\"},model:{value:(_vm.options.showControls),callback:function ($$v) {_vm.$set(_vm.options, \"showControls\", $$v)},expression:\"options.showControls\"}}),_c('toggle',{attrs:{\"label\":\"Able to skip?\"},model:{value:(_vm.options.allowSkipping),callback:function ($$v) {_vm.$set(_vm.options, \"allowSkipping\", $$v)},expression:\"options.allowSkipping\"}}),_c('toggle',{attrs:{\"label\":\"Continue arrow?\"},model:{value:(_vm.options.showContinueArrow),callback:function ($$v) {_vm.$set(_vm.options, \"showContinueArrow\", $$v)},expression:\"options.showContinueArrow\"}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.dialog),expression:\"options.dialog\"}],domProps:{\"value\":(_vm.options.dialog)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"dialog\", $event.target.value)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{ref:\"checkbox\",attrs:{\"id\":_vm._uid,\"type\":\"checkbox\"},domProps:{\"checked\":_vm.value},on:{\"change\":_vm.onChange}}),_c('label',{attrs:{\"for\":_vm._uid}},[_vm._v(_vm._s(_vm.label))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\n\r\n@Component({\r\n\tcomponents: {},\r\n})\r\nexport default class Toggle extends Vue {\r\n\t@Prop({ type: String }) private label!: string | undefined;\r\n\t@Prop({ type: Boolean, default: false }) private value!: boolean;\r\n\r\n\tprivate onChange(event: Event) {\r\n\t\tthis.$emit('input', !!(this.$refs.checkbox as HTMLInputElement).checked);\r\n\t}\r\n\r\n\tprivate get checkbox(): HTMLInputElement {\r\n\t\treturn this.$refs.checkbox as HTMLInputElement;\r\n\t}\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Toggle.vue?vue&type=template&id=e7c8c43a&\"\nimport script from \"./Toggle.vue?vue&type=script&lang=ts&\"\nexport * from \"./Toggle.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Toggle.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\r\nimport { Textbox } from '../../models/textbox';\r\nimport Toggle from '../Toggle.vue';\r\n\r\n@Component({\r\n\tcomponents: {\r\n\t\tToggle,\r\n\t},\r\n})\r\nexport default class DokiSelector extends Vue {\r\n\t@Prop({ required: true }) private readonly options!: Textbox;\r\n\t@Prop({ required: true, type: Boolean }) private readonly vertical!: boolean;\r\n\t@Prop({ required: true, type: Boolean })\r\n\tprivate readonly lqRendering!: boolean;\r\n\r\n\t@Watch('options.customName')\r\n\tprivate talkingChange(): void {\r\n\t\tthis.options.talking = 'other';\r\n\t}\r\n}\r\n","import { GirlName } from './models/girl';\r\nimport { Background, transparent } from './models/background';\r\n\r\nlet webpSupportPromise: Promise<boolean>;\r\n\r\nexport function isWebPSupported(): Promise<boolean> {\r\n\tif (!webpSupportPromise) {\r\n\t\twebpSupportPromise = new Promise((resolve, reject) => {\r\n\t\t\tconst losslessCode =\r\n\t\t\t\t'data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=';\r\n\t\t\tconst img = document.createElement('img');\r\n\t\t\timg.addEventListener('load', () => {\r\n\t\t\t\tresolve(img.width === 2 && img.height === 1);\r\n\t\t\t});\r\n\t\t\timg.addEventListener('error', () => {\r\n\t\t\t\tresolve(false);\r\n\t\t\t});\r\n\t\t\timg.src = losslessCode;\r\n\t\t});\r\n\t}\r\n\treturn webpSupportPromise;\r\n}\r\n\r\nconst assetCache: { [url: string]: Promise<HTMLImageElement> } = {};\r\n\r\nexport async function getAsset(\r\n\tasset: string,\r\n\thq: boolean = true\r\n): Promise<HTMLImageElement> {\r\n\tconst url = `/assets/${asset}${hq ? '' : '.lq'}${\r\n\t\t(await isWebPSupported()) ? '.webp' : '.png'\r\n\t}`;\r\n\r\n\tif (!assetCache[url]) {\r\n\t\tassetCache[url] = new Promise((resolve, reject) => {\r\n\t\t\tconst img = new Image();\r\n\t\t\timg.addEventListener('load', () => {\r\n\t\t\t\tresolve(img);\r\n\t\t\t});\r\n\t\t\timg.addEventListener('error', () => {\r\n\t\t\t\treject(`Failed to load \"${url}\"`);\r\n\t\t\t});\r\n\t\t\timg.src = url;\r\n\t\t\timg.style.display = 'none';\r\n\t\t\tdocument.body.appendChild(img);\r\n\t\t});\r\n\t}\r\n\r\n\treturn assetCache[url];\r\n}\r\n\r\nexport const backgrounds = [\r\n\tnew Background('club', 'Clubroom'),\r\n\tnew Background('closet', 'Closet'),\r\n\tnew Background('corridor', 'Corridor'),\r\n\tnew Background('class', 'Classroom'),\r\n\tnew Background('residential', 'Street'),\r\n\tnew Background('house', 'House'),\r\n\tnew Background('bedroom', 'Bedroom'),\r\n\tnew Background('kitchen', 'Kitchen'),\r\n\tnew Background('sayori_bedroom', \"Sayori's bedroom\"),\r\n\tnew Background('club-skill', 'Clubroom with hanging Sayori poster'),\r\n\tnew Background('bsod', 'Blue screen of death'),\r\n\tnew Background('unused-house', 'Unused house found in game files'),\r\n\ttransparent,\r\n];\r\n\r\nexport const dokis: { [name: string]: IDoki<any> } = {};\r\nfunction addDoki<T extends DokiHeads>(name: GirlName, doki: IDoki<T>) {\r\n\tdokis[name] = doki;\r\n}\r\n\r\naddDoki('sayori', {\r\n\tname: 'Sayori',\r\n\tfolder: 'sayori',\r\n\theads: {\r\n\t\tstraight: [\r\n\t\t\t'a',\r\n\t\t\t'b',\r\n\t\t\t'c',\r\n\t\t\t'd',\r\n\t\t\t'e',\r\n\t\t\t'f',\r\n\t\t\t'g',\r\n\t\t\t'h',\r\n\t\t\t'i',\r\n\t\t\t'j',\r\n\t\t\t'k',\r\n\t\t\t'l',\r\n\t\t\t'm',\r\n\t\t\t'n',\r\n\t\t\t'o',\r\n\t\t\t'p',\r\n\t\t\t'q',\r\n\t\t\t'r',\r\n\t\t\t's',\r\n\t\t\t't',\r\n\t\t\t'u',\r\n\t\t\t'v',\r\n\t\t\t'w',\r\n\t\t\t'x',\r\n\t\t\t'y',\r\n\t\t],\r\n\t\tsideways: ['a2', 'b2', 'c2', 'd2'],\r\n\t},\r\n\tposes: [\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight'],\r\n\t\t\tleft: ['1l', '2l'],\r\n\t\t\tright: ['1r', '2r'],\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight'],\r\n\t\t\tleft: ['1bl', '2bl'],\r\n\t\t\tright: ['1br', '2br'],\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['sideways'],\r\n\t\t\tstatic: '3',\r\n\t\t},\r\n\t],\r\n});\r\naddDoki('yuri', {\r\n\tname: 'Yuri',\r\n\tfolder: 'yuri',\r\n\theads: {\r\n\t\tstraight: [\r\n\t\t\t'a',\r\n\t\t\t'b',\r\n\t\t\t'c',\r\n\t\t\t'd',\r\n\t\t\t'e',\r\n\t\t\t'f',\r\n\t\t\t'g',\r\n\t\t\t'h',\r\n\t\t\t'i',\r\n\t\t\t'j',\r\n\t\t\t'k',\r\n\t\t\t'l',\r\n\t\t\t'm',\r\n\t\t\t'n',\r\n\t\t\t'o',\r\n\t\t\t'p',\r\n\t\t\t'q',\r\n\t\t\t'r',\r\n\t\t\t's',\r\n\t\t\t't',\r\n\t\t\t'u',\r\n\t\t\t'v',\r\n\t\t\t'w',\r\n\t\t\t'y1',\r\n\t\t\t'y2',\r\n\t\t\t'y3',\r\n\t\t\t'y4',\r\n\t\t\t'y5',\r\n\t\t\t'y6',\r\n\t\t\t'y7',\r\n\t\t\t'hisui',\r\n\t\t],\r\n\t\tsideways: ['a2', 'b2', 'c2', 'd2', 'e2'],\r\n\t},\r\n\tposes: [\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight'],\r\n\t\t\tleft: ['1l', '2l'],\r\n\t\t\tright: ['1r', '2r'],\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight'],\r\n\t\t\tleft: ['1bl', '2bl'],\r\n\t\t\tright: ['1br', '2br'],\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['sideways'],\r\n\t\t\tstatic: '3',\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['sideways'],\r\n\t\t\tstatic: '3b',\r\n\t\t},\r\n\t],\r\n});\r\naddDoki('natsuki', {\r\n\tname: 'Natsuki',\r\n\tfolder: 'natsuki',\r\n\theads: {\r\n\t\tstraight: [\r\n\t\t\t'a',\r\n\t\t\t'b',\r\n\t\t\t'c',\r\n\t\t\t'd',\r\n\t\t\t'e',\r\n\t\t\t'f',\r\n\t\t\t'g',\r\n\t\t\t'h',\r\n\t\t\t'i',\r\n\t\t\t'j',\r\n\t\t\t'k',\r\n\t\t\t'l',\r\n\t\t\t'm',\r\n\t\t\t'n',\r\n\t\t\t'o',\r\n\t\t\t'p',\r\n\t\t\t'q',\r\n\t\t\t'r',\r\n\t\t\t's',\r\n\t\t\t't',\r\n\t\t\t'u',\r\n\t\t\t'v',\r\n\t\t\t'w',\r\n\t\t\t'x',\r\n\t\t\t'y',\r\n\t\t\t'z',\r\n\t\t\t'1t',\r\n\t\t\t'scream',\r\n\t\t\t'corrupt',\r\n\t\t\t'crying',\r\n\t\t],\r\n\t\tsideways: [\r\n\t\t\t'2t',\r\n\t\t\t'2ta',\r\n\t\t\t'2tb',\r\n\t\t\t'2tc',\r\n\t\t\t'2td',\r\n\t\t\t'2te',\r\n\t\t\t'2tf',\r\n\t\t\t'2tg',\r\n\t\t\t'2th',\r\n\t\t\t'2ti',\r\n\t\t\t'2bta',\r\n\t\t\t'2btb',\r\n\t\t\t'2btc',\r\n\t\t\t'2btd',\r\n\t\t\t'2bte',\r\n\t\t\t'2btf',\r\n\t\t\t'2btg',\r\n\t\t\t'2bth',\r\n\t\t\t'2bti',\r\n\t\t],\r\n\t},\r\n\tposes: [\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight', 'sideways'],\r\n\t\t\tleft: ['1l', '2l'],\r\n\t\t\tright: ['1r', '2r'],\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight', 'sideways'],\r\n\t\t\tleft: ['1bl', '2bl'],\r\n\t\t\tright: ['1br', '2br'],\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight'],\r\n\t\t\theadAnchor: [18, 22],\r\n\t\t\tstatic: '3',\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight'],\r\n\t\t\theadAnchor: [18, 22],\r\n\t\t\tstatic: '3b',\r\n\t\t},\r\n\t],\r\n});\r\naddDoki('monika', {\r\n\tname: 'Monika',\r\n\tfolder: 'monika',\r\n\theads: {\r\n\t\tstraight: [\r\n\t\t\t'a',\r\n\t\t\t'b',\r\n\t\t\t'c',\r\n\t\t\t'd',\r\n\t\t\t'e',\r\n\t\t\t'f',\r\n\t\t\t'g',\r\n\t\t\t'h',\r\n\t\t\t'i',\r\n\t\t\t'j',\r\n\t\t\t'k',\r\n\t\t\t'l',\r\n\t\t\t'm',\r\n\t\t\t'n',\r\n\t\t\t'o',\r\n\t\t\t'p',\r\n\t\t\t'q',\r\n\t\t\t'r',\r\n\t\t],\r\n\t\tsideways: ['a2', 'b2'],\r\n\t},\r\n\tposes: [\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['straight'],\r\n\t\t\tleft: ['1l', '2l'],\r\n\t\t\tright: ['1r', '2r'],\r\n\t\t},\r\n\t\t{\r\n\t\t\tcompatibleHeads: ['sideways'],\r\n\t\t\tstatic: '3',\r\n\t\t},\r\n\t],\r\n});\r\nexport interface IDokiHeads {\r\n\tfolder?: string;\r\n\tall: string[];\r\n}\r\n\r\nexport interface DokiHeads {\r\n\t[id: string]: IDokiHeads | string[];\r\n}\r\n\r\ninterface IPose<H> {\r\n\tcompatibleHeads: Array<keyof H>;\r\n\tfolder?: string;\r\n\theadAnchor?: [number, number];\r\n}\r\n\r\ninterface IStaticPose<H> extends IPose<H> {\r\n\tstatic: string;\r\n}\r\n\r\ninterface ITwoSidedPose<H> extends IPose<H> {\r\n\tleft: string[];\r\n\tright: string[];\r\n}\r\n\r\nexport type Pose<H extends DokiHeads> = IStaticPose<H> | ITwoSidedPose<H>;\r\n\r\nexport interface IDoki<H extends DokiHeads> {\r\n\tname: string;\r\n\tfolder?: string;\r\n\theads: H;\r\n\tposes: Array<Pose<H>>;\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./general.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./general.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./general.vue?vue&type=template&id=d6cde16e&scoped=true&\"\nimport script from \"./general.vue?vue&type=script&lang=ts&\"\nexport * from \"./general.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./general.vue?vue&type=style&index=0&id=d6cde16e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6cde16e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isWebPSupported !== undefined)?_c('div',{class:{ panel: true, vertical: _vm.vertical }},[_c('h1',[_vm._v(\"Add doki\")]),_vm._l((_vm.dokis),function(doki){return _c('div',{key:doki,staticClass:\"doki\",attrs:{\"title\":doki},on:{\"click\":function($event){_vm.$emit('chosen', doki.toLowerCase())}}},[_c('img',{attrs:{\"src\":_vm.assetPath(doki),\"alt\":doki}})])})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { RenderContext } from '@/renderer/rendererContext';\r\nimport { getAsset } from '@/asset-manager';\r\n\r\nexport class Background {\r\n\tpublic readonly path: string;\r\n\tpublic constructor(path: string, public readonly name: string) {\r\n\t\tthis.path = '/backgrounds/' + path;\r\n\t}\r\n\r\n\tpublic async render(rx: RenderContext): Promise<void> {\r\n\t\trx.drawImage(await getAsset(this.path, rx.hq), 0, 0);\r\n\t}\r\n}\r\n\r\nexport const transparent = new Background('transparent', 'Transparent');\r\ntransparent.render = async function(rx: RenderContext) {\r\n\tif (!rx.preview) return;\r\n\treturn await Background.prototype.render.call(this, rx);\r\n};\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport { isWebPSupported } from '../../asset-manager';\r\n\r\ninterface IDoki {\r\n\tid: string;\r\n\tname: string;\r\n}\r\n\r\n@Component({\r\n\tcomponents: {},\r\n})\r\nexport default class AddPanel extends Vue {\r\n\t@Prop({ required: true, type: Boolean }) private readonly vertical!: boolean;\r\n\r\n\tprivate isWebPSupported: boolean | null = null;\r\n\tprivate dokis: string[] = ['Monika', 'Natsuki', 'Sayori', 'Yuri'];\r\n\r\n\tprivate async created() {\r\n\t\tthis.isWebPSupported = await isWebPSupported();\r\n\t}\r\n\r\n\tprivate assetPath(doki: string) {\r\n\t\treturn `/assets/chibis/${doki.toLowerCase()}.lq.${\r\n\t\t\tthis.isWebPSupported ? 'webp' : 'png'\r\n\t\t}`;\r\n\t}\r\n\r\n\tprivate onClick(e: MouseEvent): void {\r\n\t\tconst girlSel = this.$el as HTMLDivElement;\r\n\t\tconst cx = e.clientX - girlSel.offsetLeft;\r\n\t\tconst girl =\r\n\t\t\tcx < 123 ? 'sayori' : cx < 247 ? 'yuri' : cx < 370 ? 'monika' : 'natsuki';\r\n\t\tthis.$emit('chosen', girl);\r\n\t}\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=9a4e384e&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=ts&\"\nexport * from \"./add.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=9a4e384e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a4e384e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ panel: true, vertical: _vm.vertical }},[_c('h1',[_vm._v(_vm._s(_vm.captialize(_vm.girl.name)))]),_c('fieldset',[_c('legend',[_vm._v(\"Pose:\")]),_c('table',[_c('tbody',[_c('tr',[_c('td',[_c('button',{on:{\"click\":function($event){return _vm.girl.posel();}}},[_vm._v(\"<\")])]),_c('td',[_vm._v(\"Pose\")]),_c('td',[_c('button',{on:{\"click\":function($event){return _vm.girl.poser();}}},[_vm._v(\">\")])])]),_vm._l((_vm.parts),function(part){return _c('tr',{key:part},[_c('td',[_c('button',{on:{\"click\":function($event){return _vm.girl.partl(part);}}},[_vm._v(\"<\")])]),_c('td',[_vm._v(_vm._s(_vm.captialize(part)))]),_c('td',[_c('button',{on:{\"click\":function($event){return _vm.girl.partr(part);}}},[_vm._v(\">\")])])])})],2)])]),_c('fieldset',[_c('legend',[_vm._v(\"Position:\")]),_c('button',{on:{\"click\":function($event){_vm.girl.pos=Math.max(1, _vm.girl.pos-1);_vm.$emit('invalidate-render')}}},[_vm._v(\"< left\")]),_c('button',{on:{\"click\":function($event){_vm.girl.pos=Math.min(7, _vm.girl.pos+1);_vm.$emit('invalidate-render')}}},[_vm._v(\"> right\")])]),_c('fieldset',{attrs:{\"id\":\"layerfs\"}},[_c('legend',[_vm._v(\"Layer:\")]),_c('button',{attrs:{\"title\":\"Move to back\"},on:{\"click\":function($event){return _vm.$emit('shiftLayer', {girl: _vm.girl, move: 'Back'})}}},[_vm._v(\"â¤\")]),_c('button',{attrs:{\"title\":\"Move backwards\"},on:{\"click\":function($event){return _vm.$emit('shiftLayer', {girl: _vm.girl, move: 'Backward'})}}},[_vm._v(\"â\")]),_c('button',{attrs:{\"title\":\"Move forwards\"},on:{\"click\":function($event){return _vm.$emit('shiftLayer', {girl: _vm.girl, move: 'Forward'})}}},[_vm._v(\"â\")]),_c('button',{attrs:{\"title\":\"Move to front\"},on:{\"click\":function($event){return _vm.$emit('shiftLayer', {girl: _vm.girl, move: 'Front'})}}},[_vm._v(\"â¤\")])]),_c('toggle',{attrs:{\"label\":\"In front of textbox?\"},on:{\"input\":function($event){return _vm.$emit('invalidate-render')}},model:{value:(_vm.girl.infront),callback:function ($$v) {_vm.$set(_vm.girl, \"infront\", $$v)},expression:\"girl.infront\"}}),_c('toggle',{attrs:{\"label\":\"Close up?\"},on:{\"input\":function($event){return _vm.$emit('invalidate-render')}},model:{value:(_vm.girl.close),callback:function ($$v) {_vm.$set(_vm.girl, \"close\", $$v)},expression:\"girl.close\"}}),_c('button',{on:{\"click\":function($event){_vm.$emit('shiftLayer', {girl: _vm.girl, move: 'Delete'});_vm.$emit('close')}}},[_vm._v(\"Delete\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Background } from './background';\r\n\r\nexport const backgrounds = [] as Background[];\r\n\r\nexport const girlPositions = [null, 208, 256, 500, 640, 790, 1024, 1094];\r\n\r\nexport const poses = {\r\n\tsayori: {\r\n\t\tleft: [] as HTMLImageElement[],\r\n\t\tright: [] as HTMLImageElement[],\r\n\t\thead: [] as HTMLImageElement[],\r\n\t},\r\n\tyuri: {\r\n\t\tleft: [] as HTMLImageElement[],\r\n\t\tright: [] as HTMLImageElement[],\r\n\t\thead: [] as HTMLImageElement[],\r\n\t},\r\n\tnatsuki: {\r\n\t\tleft: [] as HTMLImageElement[],\r\n\t\tright: [] as HTMLImageElement[],\r\n\t\thead: [] as HTMLImageElement[],\r\n\t},\r\n\tmonika: {\r\n\t\tleft: [] as HTMLImageElement[],\r\n\t\tright: [] as HTMLImageElement[],\r\n\t\thead: [] as HTMLImageElement[],\r\n\t},\r\n};\r\n","import { girlPositions } from './constants';\r\nimport { RenderContext } from '../renderer/rendererContext';\r\nimport { dokis, getAsset, Pose, IDoki, IDokiHeads } from '../asset-manager';\r\n\r\nexport type GirlName = 'sayori' | 'yuri' | 'natsuki' | 'monika';\r\nexport type Part = 'variant' | 'left' | 'right' | 'head';\r\n\r\nexport class Girl {\r\n\tpublic pos: number = 4;\r\n\tpublic infront: boolean = false;\r\n\tpublic close: boolean = false;\r\n\tprivate selected: boolean = false;\r\n\tprivate poseId: number = 0;\r\n\tprivate posePositions = {\r\n\t\tvariant: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\thead: 0,\r\n\t\theadType: 0,\r\n\t};\r\n\r\n\tpublic constructor(\r\n\t\tpublic readonly name: GirlName,\r\n\t\tprivate readonly invalidator: Invalidator\r\n\t) {}\r\n\r\n\tpublic select() {\r\n\t\tthis.selected = true;\r\n\t}\r\n\r\n\tpublic unselect() {\r\n\t\tthis.selected = false;\r\n\t}\r\n\r\n\tpublic get doki(): IDoki<any> {\r\n\t\treturn dokis[this.name];\r\n\t}\r\n\r\n\tpublic get pose(): Pose<any> {\r\n\t\treturn this.doki.poses[this.poseId];\r\n\t}\r\n\r\n\tpublic getParts(): Part[] {\r\n\t\tconst pose = this.pose;\r\n\t\tconst head: Array<'head'> =\r\n\t\t\tthis.pose.compatibleHeads.length > 0 ? ['head'] : [];\r\n\r\n\t\tif ('variant' in pose) {\r\n\t\t\treturn [...head, 'variant'];\r\n\t\t}\r\n\t\tif ('left' in pose) {\r\n\t\t\treturn [...head, 'left', 'right'];\r\n\t\t}\r\n\t\treturn head;\r\n\t}\r\n\r\n\tpublic get currentHeads(): IDokiHeads | null {\r\n\t\tif (!this.pose.compatibleHeads || this.pose.compatibleHeads.length === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst heads = this.doki.heads[\r\n\t\t\tthis.pose.compatibleHeads[this.posePositions.headType]\r\n\t\t];\r\n\t\tif (heads instanceof Array) {\r\n\t\t\treturn {\r\n\t\t\t\tall: heads,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn heads;\r\n\t}\r\n\r\n\tpublic async render(rx: RenderContext) {\r\n\t\tconst pose = this.pose as Pose<any>;\r\n\t\tconst assets: string[] = [];\r\n\t\tconst partKeys = this.getParts();\r\n\r\n\t\tconst poseFolder =\r\n\t\t\t(this.doki.folder ? this.doki.folder + '/' : '') +\r\n\t\t\t(this.pose.folder ? this.pose.folder + '/' : '');\r\n\r\n\t\tconst headFolder =\r\n\t\t\t(this.doki.folder ? this.doki.folder + '/' : '') +\r\n\t\t\t(this.currentHeads && this.currentHeads.folder\r\n\t\t\t\t? this.currentHeads.folder + '/'\r\n\t\t\t\t: '');\r\n\r\n\t\tif ((pose as any).static) {\r\n\t\t\tassets.push(poseFolder + (pose as any).static);\r\n\t\t} else {\r\n\t\t\tfor (const key of partKeys) {\r\n\t\t\t\tif (key === 'head') continue;\r\n\t\t\t\tassets.push(poseFolder + (pose as any)[key][this.posePositions[key]]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst head = this.currentHeads\r\n\t\t\t? headFolder + this.currentHeads.all[this.posePositions.head]\r\n\t\t\t: null;\r\n\t\tconst size = this.close ? 720 * 2 : 720;\r\n\t\tconst x = girlPositions[this.pos]! - size / 2;\r\n\t\tconst y = this.close ? -100 : 0;\r\n\r\n\t\tconst [headAsset, ...bodyParts] = await Promise.all([\r\n\t\t\thead ? getAsset(head, rx.hq) : Promise.resolve(null),\r\n\t\t\t...assets.map(asset => getAsset(asset, rx.hq)),\r\n\t\t]);\r\n\r\n\t\tif (headAsset) {\r\n\t\t\tconst headAnchor = this.pose.headAnchor || [0, 0];\r\n\r\n\t\t\trx.drawImage(\r\n\t\t\t\theadAsset,\r\n\t\t\t\tx + headAnchor[0],\r\n\t\t\t\ty + (this.name === 'monika' ? 1 : 0) + headAnchor[1],\r\n\t\t\t\tsize,\r\n\t\t\t\tsize\r\n\t\t\t);\r\n\t\t}\r\n\t\tfor (const bodyPart of bodyParts) {\r\n\t\t\trx.drawImage(bodyPart!, x, y, size, size);\r\n\t\t}\r\n\r\n\t\tif (this.selected) {\r\n\t\t\trx.drawRectOutline(x + size / 3, 50, size / 3, 620, 'red', 3);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic headl(): void {\r\n\t\tif (!this.currentHeads) return;\r\n\t\t--this.posePositions.head;\r\n\t\tif (this.posePositions.head < 0) {\r\n\t\t\t--this.posePositions.headType;\r\n\t\t\tif (this.posePositions.headType < 0) {\r\n\t\t\t\tthis.posePositions.headType = this.pose.compatibleHeads.length - 1;\r\n\t\t\t}\r\n\t\t\tthis.posePositions.head = this.currentHeads.all.length - 1;\r\n\t\t}\r\n\t\tthis.invalidator();\r\n\t}\r\n\r\n\tpublic headr(): void {\r\n\t\tif (!this.currentHeads) return;\r\n\t\t++this.posePositions.head;\r\n\t\tif (this.posePositions.head >= this.currentHeads.all.length) {\r\n\t\t\t++this.posePositions.headType;\r\n\t\t\tif (this.posePositions.headType >= this.pose.compatibleHeads.length) {\r\n\t\t\t\tthis.posePositions.headType = 0;\r\n\t\t\t}\r\n\t\t\tthis.posePositions.head = 0;\r\n\t\t}\r\n\t\tthis.invalidator();\r\n\t}\r\n\r\n\tpublic partl(part: Part) {\r\n\t\tif (part === 'head') return this.headl();\r\n\t\tif (!(this.pose as any)[part]) return;\r\n\t\t--this.posePositions[part];\r\n\r\n\t\tif (this.posePositions[part] < 0) {\r\n\t\t\tthis.posePositions[part] = (this.pose as any)[part].length - 1;\r\n\t\t}\r\n\t\tthis.invalidator();\r\n\t}\r\n\r\n\tpublic partr(part: Part) {\r\n\t\tif (part === 'head') return this.headr();\r\n\t\tif (!(this.pose as any)[part]) return;\r\n\t\t++this.posePositions[part];\r\n\r\n\t\tif (this.posePositions[part] >= (this.pose as any)[part].length) {\r\n\t\t\tthis.posePositions[part] = 0;\r\n\t\t}\r\n\t\tthis.invalidator();\r\n\t}\r\n\r\n\tpublic posel() {\r\n\t\tconst oldHeadCollection = this.pose.compatibleHeads[\r\n\t\t\tthis.posePositions.headType\r\n\t\t];\r\n\t\t--this.poseId;\r\n\t\tif (this.poseId < 0) {\r\n\t\t\tthis.poseId = this.doki.poses.length - 1;\r\n\t\t}\r\n\t\tconst newHeadCollectionNr = this.pose.compatibleHeads.indexOf(\r\n\t\t\toldHeadCollection\r\n\t\t);\r\n\t\tif (newHeadCollectionNr >= 0) {\r\n\t\t\tthis.posePositions.headType = newHeadCollectionNr;\r\n\t\t} else {\r\n\t\t\tthis.posePositions.headType = 0;\r\n\t\t\tthis.posePositions.head = 0;\r\n\t\t}\r\n\t\tthis.posePositions.left = 0;\r\n\t\tthis.posePositions.right = 0;\r\n\t\tthis.posePositions.variant = 0;\r\n\t\tthis.invalidator();\r\n\t}\r\n\r\n\tpublic poser() {\r\n\t\tconst oldHeadCollection = this.pose.compatibleHeads[\r\n\t\t\tthis.posePositions.headType\r\n\t\t];\r\n\t\t++this.poseId;\r\n\t\tif (this.poseId >= this.doki.poses.length) {\r\n\t\t\tthis.poseId = 0;\r\n\t\t}\r\n\t\tconst newHeadCollectionNr = this.pose.compatibleHeads.indexOf(\r\n\t\t\toldHeadCollection\r\n\t\t);\r\n\t\tif (newHeadCollectionNr >= 0) {\r\n\t\t\tthis.posePositions.headType = newHeadCollectionNr;\r\n\t\t} else {\r\n\t\t\tthis.posePositions.headType = 0;\r\n\t\t\tthis.posePositions.head = 0;\r\n\t\t}\r\n\t\tthis.posePositions.left = 0;\r\n\t\tthis.posePositions.right = 0;\r\n\t\tthis.posePositions.variant = 0;\r\n\t\tthis.invalidator();\r\n\t}\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport { isWebPSupported } from '../../asset-manager';\r\nimport { Girl } from '../../models/girl';\r\nimport Toggle from '../Toggle.vue';\r\n\r\ninterface IDoki {\r\n\tid: string;\r\n\tname: string;\r\n}\r\n\r\n@Component({\r\n\tcomponents: {\r\n\t\tToggle,\r\n\t},\r\n})\r\nexport default class AddPanel extends Vue {\r\n\t@Prop({ required: true, type: Boolean }) private readonly vertical!: boolean;\r\n\t@Prop({ type: Girl, required: true }) private girl!: Girl;\r\n\r\n\tprivate isWebPSupported: boolean | null = null;\r\n\tprivate dokis: string[] = ['Monika', 'Natsuki', 'Sayori', 'Yuri'];\r\n\r\n\tprivate async created() {\r\n\t\tthis.isWebPSupported = await isWebPSupported();\r\n\t}\r\n\r\n\tprivate get parts(): string[] {\r\n\t\treturn this.girl.getParts();\r\n\t}\r\n\r\n\tprivate captialize(str: string) {\r\n\t\treturn str.charAt(0).toUpperCase() + str.substring(1);\r\n\t}\r\n\r\n\tprivate assetPath(doki: string) {\r\n\t\treturn `/assets/chibis/${doki.toLowerCase()}.lq.${\r\n\t\t\tthis.isWebPSupported ? 'webp' : 'png'\r\n\t\t}`;\r\n\t}\r\n\r\n\tprivate onClick(e: MouseEvent): void {\r\n\t\tconst girlSel = this.$el as HTMLDivElement;\r\n\t\tconst cx = e.clientX - girlSel.offsetLeft;\r\n\t\tconst girl =\r\n\t\t\tcx < 123 ? 'sayori' : cx < 247 ? 'yuri' : cx < 370 ? 'monika' : 'natsuki';\r\n\t\tthis.$emit('chosen', girl);\r\n\t}\r\n}\r\n\r\nexport interface MoveGirl {\r\n\tgirl: Girl;\r\n\tmove: 'Forward' | 'Backward' | 'Back' | 'Front' | 'Delete';\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./doki.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./doki.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./doki.vue?vue&type=template&id=912c405a&scoped=true&\"\nimport script from \"./doki.vue?vue&type=script&lang=ts&\"\nexport * from \"./doki.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./doki.vue?vue&type=style&index=0&id=912c405a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"912c405a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isWebPSupported !== undefined)?_c('div',{class:{ panel: true, vertical: _vm.vertical }},[_c('h1',[_vm._v(\"Background\")]),_vm._l((_vm.backgrounds),function(background){return _c('div',{key:background.name,class:{background: true, active: background === _vm.value},style:({backgroundImage: 'url(' + _vm.assetPath(background.path) + ')'}),attrs:{\"title\":background.name},on:{\"click\":function($event){return _vm.$emit('input', background)}}},[_vm._v(_vm._s(background.name))])})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport { isWebPSupported, backgrounds } from '../../asset-manager';\r\nimport { Background } from '../../models/background';\r\n\r\ninterface IDoki {\r\n\tid: string;\r\n\tname: string;\r\n}\r\n\r\n@Component({\r\n\tcomponents: {},\r\n})\r\nexport default class BackgroundsPanel extends Vue {\r\n\t@Prop({ required: true, type: Boolean }) private readonly vertical!: boolean;\r\n\t@Prop({ type: Background, required: true })\r\n\tprivate readonly value!: Background;\r\n\r\n\tprivate isWebPSupported: boolean | null = null;\r\n\r\n\tprivate async created() {\r\n\t\tthis.isWebPSupported = await isWebPSupported();\r\n\t}\r\n\r\n\tprivate get backgrounds(): Background[] {\r\n\t\treturn backgrounds;\r\n\t}\r\n\r\n\tprivate assetPath(doki: string) {\r\n\t\treturn `/assets/${doki.toLowerCase()}.lq.${\r\n\t\t\tthis.isWebPSupported ? 'webp' : 'png'\r\n\t\t}`;\r\n\t}\r\n\r\n\tprivate onClick(e: MouseEvent): void {\r\n\t\tconst girlSel = this.$el as HTMLDivElement;\r\n\t\tconst cx = e.clientX - girlSel.offsetLeft;\r\n\t\tconst girl =\r\n\t\t\tcx < 123 ? 'sayori' : cx < 247 ? 'yuri' : cx < 370 ? 'monika' : 'natsuki';\r\n\t\tthis.$emit('chosen', girl);\r\n\t}\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backgrounds.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backgrounds.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./backgrounds.vue?vue&type=template&id=375b92ed&scoped=true&\"\nimport script from \"./backgrounds.vue?vue&type=script&lang=ts&\"\nexport * from \"./backgrounds.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./backgrounds.vue?vue&type=style&index=0&id=375b92ed&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"375b92ed\",\n  null\n  \n)\n\nexport default component.exports","import { RenderContext } from '../renderer/rendererContext';\r\nimport { getAsset } from '../asset-manager';\r\n\r\nexport class Textbox {\r\n\tpublic display: boolean = true;\r\n\tpublic corrupted: boolean = false;\r\n\tpublic showControls: boolean = true;\r\n\tpublic allowSkipping: boolean = true;\r\n\tpublic showContinueArrow: boolean = true;\r\n\tpublic talking: string = '';\r\n\tpublic customName: string = '';\r\n\tpublic dialog: string = '';\r\n\r\n\tpublic async render(rx: RenderContext) {\r\n\t\tif (!this.display) return;\r\n\r\n\t\tif (this.corrupted) {\r\n\t\t\trx.drawImage(await getAsset('textbox_monika'), 190, 565);\r\n\t\t} else {\r\n\t\t\trx.drawImage(await getAsset('textbox'), 232, 565);\r\n\t\t}\r\n\r\n\t\tconst name = this.talking;\r\n\t\tif (name) {\r\n\t\t\trx.drawImage(await getAsset('namebox'), 264, 565 - 39);\r\n\t\t\trx.drawText(\r\n\t\t\t\tname === 'other' ? this.customName : name,\r\n\t\t\t\t264 + 84,\r\n\t\t\t\t565 - 10,\r\n\t\t\t\t'center',\r\n\t\t\t\t3,\r\n\t\t\t\t'white',\r\n\t\t\t\t'#b59',\r\n\t\t\t\t'24px riffic'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.renderText(rx);\r\n\r\n\t\tif (this.showControls) {\r\n\t\t\trx.drawText(\r\n\t\t\t\t'Skip',\r\n\t\t\t\t566,\r\n\t\t\t\t700,\r\n\t\t\t\t'left',\r\n\t\t\t\t1,\r\n\t\t\t\tthis.allowSkipping ? '#522' : '#a66',\r\n\t\t\t\tnull,\r\n\t\t\t\t'13px aller'\r\n\t\t\t);\r\n\t\t\trx.drawText('History', 512, 700, 'left', 1, '#522', null, '13px aller');\r\n\t\t\trx.drawText(\r\n\t\t\t\t'Auto   Save   Load   Settings',\r\n\t\t\t\t600,\r\n\t\t\t\t700,\r\n\t\t\t\t'left',\r\n\t\t\t\t1,\r\n\t\t\t\t'#522',\r\n\t\t\t\tnull,\r\n\t\t\t\t'13px aller'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.showContinueArrow) {\r\n\t\t\trx.drawImage(await getAsset('next'), 1020, 685);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate renderText(rx: RenderContext): void {\r\n\t\tconst text: DialogLetter[][] = [];\r\n\r\n\t\tlet b = false;\r\n\r\n\t\tfor (const line of this.dialog.split('\\n')) {\r\n\t\t\tlet cl;\r\n\t\t\ttext.push((cl = []));\r\n\t\t\tfor (const l of line) {\r\n\t\t\t\tif (l === '[') {\r\n\t\t\t\t\tb = true;\r\n\t\t\t\t} else if (l === ']') {\r\n\t\t\t\t\tb = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcl.push({ l, b });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet y = 620;\r\n\t\tfor (const line of text) {\r\n\t\t\tlet f = false;\r\n\t\t\tif (line.length) {\r\n\t\t\t\tlet x = 270;\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\twhile (i < line.length) {\r\n\t\t\t\t\tlet ct = '';\r\n\t\t\t\t\tconst cb = line[i].b;\r\n\r\n\t\t\t\t\tf = f || cb;\r\n\r\n\t\t\t\t\twhile (i < line.length && line[i].b === cb) {\r\n\t\t\t\t\t\tct += line[i].l;\r\n\t\t\t\t\t\tif (cb) {\r\n\t\t\t\t\t\t\tct += ' ';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trx.drawText(\r\n\t\t\t\t\t\tct,\r\n\t\t\t\t\t\tx,\r\n\t\t\t\t\t\ty,\r\n\t\t\t\t\t\t'left',\r\n\t\t\t\t\t\tcb ? 8 : 2,\r\n\t\t\t\t\t\t'#fff',\r\n\t\t\t\t\t\tcb ? '#000' : '#523140',\r\n\t\t\t\t\t\t'24px aller'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tx += rx.measureText(ct).width;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ty += 26;\r\n\t\t}\r\n\t}\r\n}\r\n\r\ninterface DialogLetter {\r\n\tl: string;\r\n\tb: boolean;\r\n}\r\n","export class RenderContext {\r\n\tpublic constructor(\r\n\t\tprivate fsCtx: CanvasRenderingContext2D,\r\n\t\tpublic readonly hq: boolean,\r\n\t\tpublic readonly preview: boolean\r\n\t) {}\r\n\r\n\tpublic drawText(\r\n\t\ttext: string,\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\talign: CanvasTextAlign,\r\n\t\tw: number = 1,\r\n\t\tcol: string = 'white',\r\n\t\tocol: string | null = '#533643',\r\n\t\tfont: string = '20px aller'\r\n\t) {\r\n\t\tthis.fsCtx.fillStyle = col;\r\n\t\tif (ocol) this.fsCtx.strokeStyle = ocol;\r\n\t\tthis.fsCtx.lineWidth = 2 * w;\r\n\t\tthis.fsCtx.textAlign = align;\r\n\t\tthis.fsCtx.font = font;\r\n\t\tthis.fsCtx.lineJoin = 'round';\r\n\r\n\t\tif (ocol) this.fsCtx.strokeText(text, x, y);\r\n\t\tthis.fsCtx.fillText(text, x, y);\r\n\t}\r\n\r\n\tpublic drawImage(\r\n\t\timage: HTMLImageElement,\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\twidth?: number,\r\n\t\theight?: number,\r\n\t\tflip: boolean = false\r\n\t): void {\r\n\t\tthis.fsCtx.save();\r\n\r\n\t\tif (flip) this.fsCtx.scale(-1, 1);\r\n\r\n\t\tif (width && height) {\r\n\t\t\tthis.fsCtx.drawImage(image, x, y, width!, height!);\r\n\t\t} else {\r\n\t\t\tthis.fsCtx.drawImage(image, x, y!);\r\n\t\t}\r\n\r\n\t\tthis.fsCtx.restore();\r\n\t}\r\n\r\n\tpublic drawRectOutline(\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\tw: number,\r\n\t\th: number,\r\n\t\tstyle: string,\r\n\t\tstrokeWidth: number\r\n\t) {\r\n\t\tthis.fsCtx.beginPath();\r\n\t\tthis.fsCtx.rect(x, y, w, h);\r\n\t\tthis.fsCtx.strokeStyle = style;\r\n\t\tthis.fsCtx.lineWidth = strokeWidth;\r\n\t\tthis.fsCtx.stroke();\r\n\t}\r\n\r\n\tpublic measureText(str: string): TextMetrics {\r\n\t\treturn this.fsCtx.measureText(str);\r\n\t}\r\n}\r\n","import { RenderContext } from './rendererContext';\r\n\r\nexport class Renderer {\r\n\tprivate previewCanvas: HTMLCanvasElement;\r\n\r\n\tpublic constructor() {\r\n\t\tthis.previewCanvas = document.createElement('canvas');\r\n\t\tthis.previewCanvas.width = 1280;\r\n\t\tthis.previewCanvas.height = 720;\r\n\t}\r\n\r\n\tpublic async render(\r\n\t\trenderCallback: (rc: RenderContext) => Promise<void>,\r\n\t\thq: boolean = true\r\n\t) {\r\n\t\tconst ctx = this.previewCanvas.getContext('2d')!;\r\n\t\tctx.clearRect(0, 0, this.previewCanvas.width, this.previewCanvas.height);\r\n\t\tawait renderCallback(new RenderContext(ctx, hq, true));\r\n\t}\r\n\r\n\tpublic get width(): number {\r\n\t\treturn this.previewCanvas.width;\r\n\t}\r\n\r\n\tpublic get height(): number {\r\n\t\treturn this.previewCanvas.height;\r\n\t}\r\n\r\n\tpublic paintOnto(\r\n\t\tc: CanvasRenderingContext2D,\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\tw: number,\r\n\t\th: number\r\n\t) {\r\n\t\tc.drawImage(this.previewCanvas, x, y, w, h);\r\n\t}\r\n\r\n\tpublic async download(\r\n\t\trenderCallback: (rc: RenderContext) => Promise<void>,\r\n\t\tfilename: string\r\n\t) {\r\n\t\tconst downloadCanvas = document.createElement('canvas');\r\n\t\tdownloadCanvas.width = this.previewCanvas.width;\r\n\t\tdownloadCanvas.height = this.previewCanvas.height;\r\n\r\n\t\tconst ctx = downloadCanvas.getContext('2d')!;\r\n\t\tctx.clearRect(0, 0, this.previewCanvas.width, this.previewCanvas.height);\r\n\t\tawait renderCallback(new RenderContext(ctx, true, false));\r\n\r\n\t\tconst url = downloadCanvas.toDataURL();\r\n\r\n\t\tif (undefined === window.navigator.msSaveOrOpenBlob) {\r\n\t\t\tconst e = document.createElement('a');\r\n\t\t\te.setAttribute('href', url);\r\n\t\t\te.setAttribute('download', filename);\r\n\t\t\tdocument.body.appendChild(e);\r\n\t\t\te.click();\r\n\t\t\tdocument.body.removeChild(e);\r\n\t\t} else {\r\n\t\t\t// IE-specific code\r\n\t\t\twindow.navigator.msSaveBlob(this.dataURItoBlob(url), filename);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate dataURItoBlob(dataURI: string) {\r\n\t\tconst binary = atob(dataURI.split(',')[1]);\r\n\t\tconst array = [];\r\n\t\tfor (let i = 0; i < binary.length; i++) {\r\n\t\t\tarray.push(binary.charCodeAt(i));\r\n\t\t}\r\n\t\treturn new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n\t}\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch } from 'vue-property-decorator';\r\nimport DokiButton from './components/DokiButton.vue';\r\nimport GeneralPanel from './components/panels/general.vue';\r\nimport AddPanel from './components/panels/add.vue';\r\nimport DokiPanel, { MoveGirl } from './components/panels/doki.vue';\r\nimport BackgroundsPanel from './components/panels/backgrounds.vue';\r\nimport { girlPositions } from './models/constants';\r\nimport { Textbox } from './models/textbox';\r\nimport { Girl, GirlName } from './models/girl';\r\nimport { backgrounds, getAsset } from './asset-manager';\r\nimport { Renderer } from './renderer/renderer';\r\nimport { RenderContext } from './renderer/rendererContext';\r\nimport { Background } from './models/background';\r\n\r\n@Component({\r\n\tcomponents: {\r\n\t\tDokiButton,\r\n\t\tGeneralPanel,\r\n\t\tAddPanel,\r\n\t\tDokiPanel,\r\n\t\tBackgroundsPanel,\r\n\t},\r\n})\r\nexport default class App extends Vue {\r\n\tpublic canvasWidth: number = 0;\r\n\tpublic canvasHeight: number = 0;\r\n\tpublic currentBackground: Background | null = null;\r\n\r\n\tprivate sdCtx: CanvasRenderingContext2D | undefined;\r\n\tprivate girls: Girl[] = [];\r\n\tprivate selectedGirl: Girl | null = null;\r\n\tprivate dokiSelectorOpen: boolean = false;\r\n\tprivate backgroundSelectorOpen: boolean = false;\r\n\tprivate editDialog: boolean = false;\r\n\r\n\tprivate vertical: boolean = false;\r\n\tprivate textbox = new Textbox();\r\n\r\n\tprivate renderer: Renderer = new Renderer();\r\n\tprivate showUI: boolean = true;\r\n\tprivate loaded: boolean = false;\r\n\tprivate uiSize: number = 192;\r\n\tprivate lqRendering: boolean = true;\r\n\r\n\tprivate panel: string = '';\r\n\r\n\tprivate renderInProgress: boolean = false;\r\n\tprivate queuedRender: number | null = null;\r\n\r\n\t@Watch('selectedGirl')\r\n\tpublic onSelectedGirlChange(newGirl: Girl, oldGirl: Girl) {\r\n\t\tif (oldGirl) oldGirl.unselect();\r\n\t\tif (newGirl) {\r\n\t\t\tnewGirl.select();\r\n\t\t\tthis.panel = 'doki';\r\n\t\t}\r\n\t\tthis.invalidateRender();\r\n\t}\r\n\r\n\t@Watch('panel')\r\n\tpublic onPanel(newPanel: string) {\r\n\t\tif (newPanel !== 'doki') {\r\n\t\t\tthis.selectedGirl = null;\r\n\t\t}\r\n\t}\r\n\r\n\t@Watch('textbox', { deep: true })\r\n\t@Watch('lqRendering')\r\n\t@Watch('currentBackground')\r\n\tpublic invalidateRender() {\r\n\t\tif (this.queuedRender) return;\r\n\t\tthis.queuedRender = requestAnimationFrame(() => this.render_());\r\n\t}\r\n\r\n\tpublic async render_(downloadRendering?: boolean): Promise<void> {\r\n\t\tif (this.queuedRender) {\r\n\t\t\tcancelAnimationFrame(this.queuedRender);\r\n\t\t\tthis.queuedRender = null;\r\n\t\t}\r\n\t\tif (this.renderInProgress) {\r\n\t\t\t// Delay rerender when render already in progress\r\n\t\t\tthis.invalidateRender();\r\n\t\t}\r\n\t\tthis.renderInProgress = true;\r\n\r\n\t\ttry {\r\n\t\t\tconst hq = downloadRendering || !this.lqRendering;\r\n\t\t\tawait this.renderer.render(this.renderCallback, hq);\r\n\t\t\tthis.display();\r\n\t\t} finally {\r\n\t\t\tthis.renderInProgress = false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate async renderCallback(rx: RenderContext): Promise<void> {\r\n\t\tif (!this.loaded) {\r\n\t\t\trx.drawText(\r\n\t\t\t\t'Starting...',\r\n\t\t\t\tthis.renderer.width / 2,\r\n\t\t\t\tthis.renderer.height / 2,\r\n\t\t\t\t'center',\r\n\t\t\t\t5,\r\n\t\t\t\t'white',\r\n\t\t\t\t'#b59',\r\n\t\t\t\t'32px riffic'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif (this.currentBackground) {\r\n\t\t\t\tawait this.currentBackground.render(rx);\r\n\t\t\t}\r\n\r\n\t\t\tfor (const girl of this.girls) {\r\n\t\t\t\tif (!girl.infront) {\r\n\t\t\t\t\tawait girl.render(rx);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tawait this.textbox.render(rx);\r\n\r\n\t\t\tfor (const girl of this.girls) {\r\n\t\t\t\tif (girl.infront) {\r\n\t\t\t\t\tawait girl.render(rx);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate created(): void {\r\n\t\t(window as any).cats = this;\r\n\t}\r\n\r\n\tprivate mounted(): void {\r\n\t\tconst sd = this.$refs.sd as HTMLCanvasElement;\r\n\t\tthis.sdCtx = sd.getContext('2d') || undefined;\r\n\r\n\t\tthis.updateArea();\r\n\t\twindow.addEventListener('resize', this.updateArea);\r\n\t\twindow.addEventListener('keypress', e => {\r\n\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\tthis.selectedGirl = null;\r\n\t\t\t\tthis.panel = '';\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.currentBackground = backgrounds[0];\r\n\t\tthis.invalidateRender();\r\n\r\n\t\tPromise.all([\r\n\t\t\tgetAsset(this.currentBackground.path, false),\r\n\t\t\tgetAsset('textbox'),\r\n\t\t\tgetAsset('namebox'),\r\n\t\t\tgetAsset('next'),\r\n\t\t])\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.loaded = true;\r\n\t\t\t\tthis.invalidateRender();\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\talert('Error while loading. Sorry :/');\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate optimum(sw: number, sh: number): [number, number] {\r\n\t\tlet rh = sw / (16 / 9);\r\n\t\tlet rw = sh * (16 / 9);\r\n\r\n\t\tif (rh > sh) {\r\n\t\t\trh = sh;\r\n\t\t} else {\r\n\t\t\trw = sw;\r\n\t\t}\r\n\r\n\t\treturn [rw, rh];\r\n\t}\r\n\r\n\tprivate optimizeWithMenu(sw: number, sh: number): [number, number, boolean] {\r\n\t\tconst opth = this.optimum(sw, sh - this.uiSize);\r\n\t\tconst optv = this.optimum(sw - this.uiSize, sh);\r\n\r\n\t\tif (opth[0] * opth[1] > optv[0] * optv[1]) {\r\n\t\t\treturn [opth[0], opth[1], false];\r\n\t\t} else {\r\n\t\t\treturn [optv[0], optv[1], true];\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateArea(): void {\r\n\t\tconst [cw, ch, v] = this.optimizeWithMenu(\r\n\t\t\twindow.innerWidth,\r\n\t\t\twindow.innerHeight\r\n\t\t);\r\n\r\n\t\tthis.canvasWidth = cw;\r\n\t\tthis.canvasHeight = ch;\r\n\t\tthis.vertical = v;\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.display();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate display(): void {\r\n\t\tif (!this.sdCtx) return;\r\n\t\tthis.renderer.paintOnto(\r\n\t\t\tthis.sdCtx,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tthis.canvasWidth,\r\n\t\t\tthis.canvasHeight\r\n\t\t);\r\n\t}\r\n\r\n\tprivate async download() {\r\n\t\tthis.selectedGirl = null;\r\n\t\tthis.renderer.download(this.renderCallback, 'panel.png');\r\n\t}\r\n\r\n\tprivate onDokiChosen(girl: GirlName): void {\r\n\t\tthis.dokiSelectorOpen = false;\r\n\t\tthis.girls.push(new Girl(girl, this.invalidateRender));\r\n\t\tthis.invalidateRender();\r\n\t}\r\n\r\n\tprivate onUiClick(e: MouseEvent): void {\r\n\t\tthis.panel = '';\r\n\r\n\t\tconst sd = this.$refs.sd as HTMLCanvasElement;\r\n\t\tconst rx = e.clientX - sd.offsetLeft;\r\n\t\tconst ry = e.clientY - sd.offsetTop;\r\n\t\tconst sx = (rx / sd.width) * 1280;\r\n\t\tconst sy = (ry / sd.width) * 720;\r\n\r\n\t\tconst girl = sy > 50 && sy < 550 ? this.girlAt(sx) : null;\r\n\r\n\t\tthis.selectedGirl = girl;\r\n\t}\r\n\tprivate girlAt(x: number) {\r\n\t\tfor (let i = this.girls.length - 1; i >= 0; i--) {\r\n\t\t\tif (Math.abs(girlPositions[this.girls[i].pos]! - x) < 120) {\r\n\t\t\t\treturn this.girls[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate onDokiLayerShift(event: MoveGirl): void {\r\n\t\tconst idx = this.girls.indexOf(event.girl);\r\n\t\tlet targetIdx = idx;\r\n\t\tthis.girls.splice(idx, 1);\r\n\t\tswitch (event.move) {\r\n\t\t\tcase 'Forward':\r\n\t\t\t\ttargetIdx += 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Backward':\r\n\t\t\t\ttargetIdx -= 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Back':\r\n\t\t\t\ttargetIdx = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Front':\r\n\t\t\t\ttargetIdx = this.girls.length;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Delete':\r\n\t\t\t\tthis.panel = '';\r\n\t\t\t\tthis.invalidateRender();\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t\tif (targetIdx <= 0) {\r\n\t\t\tthis.girls.unshift(event.girl);\r\n\t\t} else if (targetIdx >= this.girls.length - 1) {\r\n\t\t\tthis.girls.push(event.girl);\r\n\t\t} else {\r\n\t\t\tthis.girls.splice(targetIdx, 0, event.girl);\r\n\t\t}\r\n\t\tthis.invalidateRender();\r\n\t}\r\n}\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7890e1d1&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* tslint:disable:no-console */\r\n\r\nimport { register } from 'register-service-worker';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n\tregister(`${process.env.BASE_URL}service-worker.js`, {\r\n\t\tready() {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'App is being served from cache by a service worker.\\n' +\r\n\t\t\t\t\t'For more details, visit https://goo.gl/AFskqB'\r\n\t\t\t);\r\n\t\t},\r\n\t\tregistered() {\r\n\t\t\tconsole.log('Service worker has been registered.');\r\n\t\t},\r\n\t\tcached() {\r\n\t\t\tconsole.log('Content has been cached for offline use.');\r\n\t\t},\r\n\t\tupdatefound() {\r\n\t\t\tconsole.log('New content is downloading.');\r\n\t\t},\r\n\t\tupdated() {\r\n\t\t\tconsole.log('New content is available; please refresh.');\r\n\t\t},\r\n\t\toffline() {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t);\r\n\t\t},\r\n\t\terror(error) {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t},\r\n\t});\r\n}\r\n","import Vue from 'vue';\r\nimport App from './App.vue';\r\nimport './registerServiceWorker';\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n\trender: h => h(App),\r\n}).$mount('#app');\r\n"],"sourceRoot":""}